#:kivy 2.3.0
# Login Page
<CenteredBoxLayout@BoxLayout>:    #layout for the border around the form
    size_hint: None, None
    width: 550
    height: 700
    padding: 10
    spacing: 10
    
#LoginScreen layout  
<LoginScreen>:
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        CenteredBoxLayout:
            orientation: 'vertical'
            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)  # White color for the border
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1
            Image:
                source: 'login.jpeg'
                pos_hint: {'center_x': 0.5, 'center_y': 0.7} 
            Label:
                text: 'Fitness & Sports App'
                font_name: 'Cedarville_Cursive/CedarvilleCursive-Regular.ttf'          #Font Style
                font_size: '24sp'
                size_hint_y: None
                height: self.texture_size[1]
            TextInput:
                id: input_email
                hint_text: 'Phone number, username, or email'
                size_hint_y: None
                height: 40
                multiline: False
            TextInput:
                id: input_password
                hint_text: 'Password'
                password: True
                size_hint_y: None
                height: 40
                multiline: False
            Button:
                text: 'Log in'
                size_hint_y: None
                height: 40
                on_press: 
                    root.manager.current = 'feed'
            Label:
                text: 'OR'
                size_hint_y: None
                height: 40
            #button for signUp to redirect to Forgot password page
            Button:
                text: 'Forgot password?'
                size_hint_y: None
                height: 40
                on_press: root.manager.current = 'forgot_password_screen'   
            Widget:
                size_hint_y: None
                height: 40
            BoxLayout:
                size_hint_y: None
                height: 40
                Label:
                    text: "Don't have an account?"
                #button for signUp to redirect to signup page
                Button:
                    text: 'Sign up'
                    on_press: root.manager.current = 'signup'


#layout for the signup page/screen
<SignupScreen>:
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            width: 550
            height: 700
            padding: 10
            spacing: 10
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # White border
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1         
            Image:
                source: 'design.jpg'
                pos_hint: {'center_x': 0.5, 'center_y': 0.7} 
            Label:
                text: 'Fitness & Sports App'
                font_name: 'Cedarville_Cursive/CedarvilleCursive-Regular.ttf'
                font_size: '30sp'
                size_hint: None, None
                size: self.texture_size
                pos_hint: {'center_x': 0.5, 'y': 0.6}
            TextInput:
                id: email_input
                hint_text: 'Email'
                size_hint_y: None
                height: 40
                multiline: False
            TextInput:
                hint_text: 'Full Name'
                size_hint_y: None
                height: 40
                multiline: False
            TextInput:
                hint_text: 'Username'
                size_hint_y: None
                height: 40
                multiline: False
            TextInput:
                id: password_input
                hint_text: 'Password'
                size_hint_y: None
                height: 40
                multiline: False
                password: True
            Button:
                text: 'SignUp'
                size_hint_y: None
                height: 40
                on_press: root.on_sign_up()
            Label:
                id: error_label
                text: ''
                color: 1,0,0,1 #red color for error message
                size_hint_y: None
                height:30
    
#Verfication screen
<SignupVerificationScreen>:
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            width: 550
            height: 700
            padding: 10
            spacing: 10
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1  # White border
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1   
            Image:
                source: 'design.jpg'
                pos_hint: {'center_x': 0.5, 'center_y': 0.7}       
            Label:
                text: 'Email Verification Code'
                font_name: 'Cedarville_Cursive/CedarvilleCursive-Regular.ttf'
                font_size: '30sp'
                size_hint: None, None
                size: self.texture_size
                pos_hint: {'center_x': 0.5, 'y': 0.6}
            TextInput:
                id: verification_code_input
                hint_text: '######### code'
                size_hint_y: None
                height: 40
                multiline: False
            Button:
                text: 'Next'
                size_hint_y: None
                height: 40
                on_press: root.manager.current = 'feed'
                
#layout for forgot password page/screen
<CenteredBoxLayout@BoxLayout>:
    size_hint: None, None
    width: 550
    height: 700
    padding: 10
    spacing: 10

<ForgotPasswordScreen>:
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'center'
        CenteredBoxLayout:
            orientation: 'vertical'
            canvas.before:
                Color:
                    rgba: (1, 1, 1, 1)
                Line:
                    rectangle: (self.x, self.y, self.width, self.height)
                    width: 1
            Image:
                source: 'design.jpg'
                pos_hint: {'center_x': 0.5, 'center_y': 0.7} 
            Label:
                text: 'Fitness & Sports App'
                font_name: 'Cedarville_Cursive/CedarvilleCursive-Regular.ttf'
                font_size: '24sp'
                size_hint_y: None
                height: self.texture_size[1]
            TextInput:
                id: email
                hint_text: 'Email'
                size_hint_y: None
                height: 40
                multiline: False
            Button:
                text: 'Send Reset Link'
                size_hint_y: None
                height: 40
                on_press: root.send_reset_email()
            Widget:
                size_hint_y: None
                height: 40
            Label:
                text: "Remember your password?"
                size_hint_y: None
                height: 40
            Button:
                text: 'Log in'
                size_hint_y: None
                height: 40
                on_press: root.manager.current = 'login'

<ProfileScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
            
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7

            # Profile Picture and Bio Section
            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)

                Image:
                    source: 'IMG_1633.JPG' 
                    size_hint: None, None
                    size: dp(100), dp(80)
                    allow_stretch: True
                    keep_ratio: True
                    border: 1, 1, 1, 1  # White border around the profile picture
                    # Link to Settings

                Button:
                    text: 'Settings'
                    size_hint_y: None
                    height: dp(30)
                    on_press: root.manager.current = 'profile_settings'   

                BoxLayout:
                    orientation: 'vertical'
                    Label:
                        text: 'Ilana Tetruashvili'
                        font_name: 'Arial'  # Twitter uses Arial
                        font_size: '24sp'  # Twitter-like font size
                        size_hint_y: None
                        height: self.texture_size[1]

                    Label:
                        text: 'Tennis Player from Israel'
                        font_size: '16sp'  # Twitter-like font size
                        size_hint_y: None
                        height: self.texture_size[1]

            # Tabs Section
            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)

                Button:
                    text: 'Resources'
                    size_hint_y: None
                    height: dp(30)

                Button:
                    text: 'Media'
                    size_hint_y: None
                    height: dp(30)

                Button:
                    text: 'Likes'
                    size_hint_y: None
                    height: dp(30)
                
                Button:
                    text: 'Book'
                    size_hint_y: None
                    height: dp(30)



<ProfileSettingsScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
            
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7

            # Profile Settings Content Section
            Label:
                text: 'Account Settings'
                font_size: '24sp'
                size_hint_y: None
                height: self.texture_size[1]

            TextInput:
                hint_text: 'Username'
                multiline: False
                size_hint_y: None
                height: dp(30)

            TextInput:
                hint_text: 'Email'
                multiline: False
                size_hint_y: None
                height: dp(30)

            TextInput:
                hint_text: 'Phone Number'
                multiline: False
                size_hint_y: None
                height: dp(30)

            Button:
                text: 'Change Profile Picture'
                size_hint_y: None
                height: dp(30)
                # Add functionality to change profile picture

            TextInput:
                hint_text: 'Change Password'
                multiline: False
                password: True
                size_hint_y: None
                height: dp(30)

            Button:
                text: 'Save Changes'
                size_hint_y: None
                height: dp(30)
                #on_press: root.save_changes()  

            # Link to Profile
            Button:
                text: 'Go Back'
                size_hint_y: None
                height: dp(30)
                on_press: root.manager.current = 'profile'


<FeedScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
            
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7

            # Feed Content Section
            ScrollView:
                Label:
                    text: 'Feed content goes here.'
                    font_size: '16sp'
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width - dp(20), None
                    valign: 'top'

            # Tabs Section
            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)

                Button:
                    text: 'Recent'
                    size_hint_y: None
                    height: dp(30)

                Button:
                    text: 'Popular'
                    size_hint_y: None
                    height: dp(30)

                Button:
                    text: 'Trending'
                    size_hint_y: None
                    height: dp(30)


<SExploreScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
	@@ -415,15 +417,18 @@
            # Search Bar
            TextInput:
                id: search_input
                hint_text: 'Search...'
                multiline: False
                size_hint_y: None
                height: dp(30)
                on_text_validate: root.on_search(search_input.text)
            # Search Results Section
            ScrollView:
                Label:
                    id: search_results
                    text: ' '
                    font_size: '16sp'
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width - dp(20), None
                    valign: 'top'


<SocialScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
            
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(10)
            padding: dp(10)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7

            # Social Content Section
            ScrollView:
                Label:
                    text: 'Your social content goes here.'
                    font_size: '16sp'
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width - dp(20), None
                    valign: 'top'

            # Tabs Section
            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)

                Button:
                    text: 'Friends'
                    size_hint_y: None
                    height: dp(30)
                    on_press: root.manager.current = 'friends'

                Button:
                    text: 'Groups'
                    size_hint_y: None
                    height: dp(30)
                    on_press: root.manager.current = 'groups'

                Button:
                    text: 'Messages'
                    size_hint_y: None
                    height: dp(30)
                    on_press: root.manager.current = 'messages'

                # Link to Profile
                Button:
                    text: 'Profile'
                    size_hint_y: None
                    height: dp(30)
                    on_press: root.manager.current = 'profile'
    


<FriendsScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(5)
            padding: dp(5)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7
            # Tabs Section
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                GridLayout:
                    id: grid_friend
                    cols: 1
                    spacing: 1,0
                    size_hint_y: None
                    Button:
                        text: "add friends"
                        size_hint_y: None
                        height: dp(20)
                        on_press: 
                            root.create_friend()

            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)
            

<NearYouScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        

    
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(5)
            padding: dp(5)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7

            # Near You Content Section
            ScrollView:
                Label:
                    text: 'Nearby content goes here.'
                    font_size: '16sp'
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width - dp(20), None
                    valign: 'top'

            # Map or Location Section 
            MapView:
                id: mapview
                lat: 32.5259527
                lon: -92.6436849
                zoom: 25
                size_hint: 1,5


                MapMarker:
                    lat: 50.6394
                    lon: 3.057

                MapMarker
                    lat: -33.867
                    lon: 151.206

            
<GroupsScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(5)
            padding: dp(5)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7
            # Tabs Section
            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                GridLayout:
                    id: grid_group
                    cols: 1
                    spacing: 1,0
                    size_hint_y: None
                    Button:
                        text: "add group"
                        size_hint_y: None
                        height: dp(20)
                        on_press: 
                            root.create_group()

            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)
            Button:
                text: "add groups"
                size_hint_y: None
                height: dp(30)
            

<MessagesScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1  # White background color
        Line:
            rectangle: (self.x + dp(60), self.y + dp(60), self.width - dp(120), self.height - dp(120))
            width: 1
    FloatLayout:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(5)
            padding: dp(5)
            pos_hint: {'center_x': .5, 'center_y': .5}
            size_hint: .7, .7
            # Tabs Section
            ScrollView:
                MDListItem:
                    id: messages_list
                    pos_hint: {"center_x": .5, "center_y": .5}
                    size_hint_x: .8

                    MDListItemHeadlineText:
                        text: "Headline"
                    MDListItemHeadlineText:
                        text: "Headline"

            BoxLayout:
                orientation: 'horizontal'
                spacing: dp(10)
            Button:
                text: "add messages"
                size_hint_y: None
                height: dp(30)      

            

